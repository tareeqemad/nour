{{-- المشغل --}}
<div class="role-section">
    <div class="role-header">
        <div class="role-title">
            <i class="bi bi-building"></i>
            <span>المشغل (CompanyOwner)</span>
            <span class="role-badge bg-primary ms-2">مشغل</span>
        </div>
    </div>
    
    <div class="alert alert-info mb-4">
        <h6 class="alert-heading">
            <i class="bi bi-person-badge"></i>
            نظرة عامة على دور المشغل
        </h6>
        <p class="mb-0">
            المشغل هو صاحب أو مدير شركة تشغيل المولدات الكهربائية. لديك صلاحيات كاملة لإدارة جميع جوانب عملياتك، 
            من إعداد ملف المشغل إلى إدارة وحدات التوليد والمولدات وفريق العمل. يمكنك تسجيل جميع السجلات المطلوبة 
            ومراقبة أداء مولداتك وكفاءة الوقود.
        </p>
    </div>

    <div class="info-box">
        <h4><i class="bi bi-key"></i>الصلاحيات الكاملة:</h4>
        <div class="row g-3">
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">إدارة البيانات الأساسية:</h6>
                <ul>
                    <li>✅ إدارة ملف المشغل الكامل (البيانات الشخصية، العنوان، معلومات الاتصال)</li>
                    <li>✅ إدارة وحدات التوليد التابعة لك (إضافة، تعديل، عرض)</li>
                    <li>✅ إدارة المولدات التابعة لكل وحدة توليد (إضافة، تعديل، نقل، عرض)</li>
                    <li>✅ إدارة المناطق الجغرافية لكل وحدة توليد</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">إدارة فريق العمل:</h6>
                <ul>
                    <li>✅ إضافة أعضاء فريق العمل (فني مشغل، محاسب)</li>
                    <li>✅ إدارة صلاحيات فريق العمل</li>
                    <li>✅ تعديل أو حذف أعضاء فريق العمل</li>
                    <li>✅ عرض نشاط فريق العمل</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">السجلات والتوثيق:</h6>
                <ul>
                    <li>✅ تسجيل سجلات التشغيل اليومية</li>
                    <li>✅ تسجيل سجلات الصيانة (دورية وطارئة)</li>
                    <li>✅ تسجيل سجلات الامتثال والسلامة</li>
                    <li>✅ تسجيل كفاءة الوقود</li>
                    <li>✅ عرض جميع السجلات التاريخية</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">الإدارة المالية:</h6>
                <ul>
                    <li>✅ إدارة أسعار التعرفة الكهربائية</li>
                    <li>✅ عرض إحصائيات الطاقة المنتجة</li>
                    <li>✅ عرض إحصائيات استهلاك الوقود</li>
                    <li>✅ عرض التكلفة التشغيلية</li>
                </ul>
            </div>
        </div>
        <div class="mt-3 pt-3 border-top">
            <h6 class="fw-bold text-danger mb-2">❌ القيود:</h6>
            <ul class="mb-0">
                <li>❌ لا يمكنك إدارة مشغلين آخرين</li>
                <li>❌ لا يمكنك إدارة إعدادات النظام العامة</li>
                <li>❌ لا يمكنك إنشاء مستخدمين من أدوار إدارية (SuperAdmin, Admin, EnergyAuthority)</li>
                <li>❌ لا يمكنك الوصول إلى سجلات الأخطاء أو سجلات التدقيق النظامية</li>
            </ul>
        </div>
    </div>

    <div class="info-box">
        <h4><i class="bi bi-gear"></i>آلية العمل التفصيلية:</h4>
        <ol class="mb-0">
            <li><strong>إعداد ملف المشغل (الخطوة الأولى والأهم):</strong>
                <ul>
                    <li>اذهب إلى <strong>المشغل → ملف المشغل</strong></li>
                    <li>أكمل جميع البيانات المطلوبة: الاسم، العنوان، المحافظة، المدينة، معلومات الاتصال</li>
                    <li>تأكد من إكمال جميع الحقول المطلوبة (المميزة بعلامة *)</li>
                    <li>احفظ البيانات - بدون إكمال ملف المشغل لن تتمكن من إضافة وحدات التوليد</li>
                </ul>
            </li>
            <li><strong>إضافة وحدات التوليد:</strong>
                <ul>
                    <li>اذهب إلى <strong>وحدات التوليد → إضافة وحدة توليد جديدة</strong></li>
                    <li>أدخل بيانات الوحدة: الاسم، الكود، المحافظة، المدينة، العنوان التفصيلي</li>
                    <li><strong>نظام المناطق الجغرافية:</strong> حدد موقع الوحدة على الخريطة واختر المساحة الجغرافية (بالكيلومتر المربع)</li>
                    <li>النظام سيمنع إضافة وحدة توليد في منطقة مملوكة لمشغل آخر</li>
                    <li>يمكنك إضافة اسم للمنطقة الجغرافية (مثل: "منطقة الشمال")</li>
                </ul>
            </li>
            <li><strong>إضافة المولدات:</strong>
                <ul>
                    <li>اذهب إلى <strong>المولدات → إضافة مولد جديد</strong></li>
                    <li>اختر وحدة التوليد التابعة لها</li>
                    <li>أدخل بيانات المولد: النوع، القدرة، رقم التسلسلي، تاريخ الشراء، إلخ</li>
                    <li>يمكنك استخدام زر "توليد رقم تلقائي" لتوليد رقم المولد تلقائياً</li>
                    <li>يمكنك نقل المولد من مشغل لآخر (بصلاحيات خاصة)</li>
                </ul>
            </li>
            <li><strong>إضافة فريق العمل:</strong>
                <ul>
                    <li>اذهب إلى <strong>فريق العمل → إضافة مستخدم جديد</strong></li>
                    <li>اختر الدور: <strong>فني مشغل</strong> أو <strong>محاسب</strong></li>
                    <li>أدخل بيانات العضو: الاسم بالعربي، الاسم بالإنجليزي، رقم الجوال (اختياري)</li>
                    <li>سيتم توليد username و password تلقائياً وإرسالهما عبر SMS</li>
                    <li>يمكنك إدارة صلاحيات كل عضو من خلال <strong>الصلاحيات</strong></li>
                </ul>
            </li>
            <li><strong>تسجيل السجلات:</strong>
                <ul>
                    <li><strong>سجلات التشغيل:</strong> سجل يومي للطاقة المنتجة والوقود المستهلك ووقت التشغيل</li>
                    <li><strong>سجلات الصيانة:</strong> سجل لأعمال الصيانة الدورية والطارئة</li>
                    <li><strong>الامتثال والسلامة:</strong> سجل للامتثال للقوانين واللوائح</li>
                    <li><strong>كفاءة الوقود:</strong> تتبع وتحليل كفاءة استهلاك الوقود</li>
                </ul>
            </li>
            <li><strong>المراقبة والتحليل:</strong>
                <ul>
                    <li>استخدم لوحة التحكم لعرض الإحصائيات الشاملة</li>
                    <li>راجع التقارير المختلفة لاتخاذ قرارات مدروسة</li>
                    <li>راقب أداء المولدات وكفاءة الوقود</li>
                </ul>
            </li>
        </ol>
    </div>

    <div class="info-box">
        <h4><i class="bi bi-map"></i>نظام المناطق الجغرافية:</h4>
        <p>
            عند إضافة وحدة توليد جديدة، يجب تحديد موقعها على الخريطة واختيار المساحة الجغرافية التي تريد حجزها (بالكيلومتر المربع).
            النظام سيمنع إضافة وحدات توليد أخرى في نفس المنطقة أو في مناطق متداخلة.
        </p>
        <ul>
            <li><strong>اختيار الموقع:</strong> انقر على الخريطة لتحديد موقع وحدة التوليد</li>
            <li><strong>تحديد المساحة:</strong> أدخل المساحة الجغرافية المطلوبة (من 0.1 إلى 360 كم²)</li>
            <li><strong>اسم المنطقة:</strong> يمكنك إعطاء اسم للمنطقة الجغرافية (مثل: "منطقة الشمال")</li>
            <li><strong>التحقق التلقائي:</strong> النظام يتحقق تلقائياً من عدم وجود تداخل مع مناطق أخرى</li>
            <li><strong>الخريطة التفاعلية:</strong> يمكنك رؤية جميع المناطق المملوكة والمحجوزة على الخريطة</li>
        </ul>
    </div>
</div>
